{
  "dimensions": {
    "1367x2048": {
      "guardrails": {
        "force_safe": true,
        "latest_zero_rate": 66.66666666666666,
        "reasons": [
          "zero_rate_ge_20pct(66.67)",
          "test_count_lt_10(3)"
        ],
        "test_count": 3
      },
      "height": 2048,
      "parent_class": "portrait_standard",
      "primary": {
        "k1": -0.045,
        "k2": 0.04,
        "metrics": {
          "border_ratio": 0.0002315766630116959,
          "edge_f1": 0.39341187166423186,
          "grad_hist_loss": 0.0017366807778468256,
          "line_angle_loss": 0.18871772587299346,
          "loss": 0.2983310972945989,
          "norm_mae": 0.018386091087378705,
          "risk": 0.18254173523592976,
          "ssim": 0.9446596651269311,
          "warp_penalty": 0.09289977885782719
        }
      },
      "safe": {
        "k1": -0.01,
        "k2": 0.04,
        "metrics": {
          "border_ratio": 0.00021225481237816766,
          "edge_f1": 0.37586247181218807,
          "grad_hist_loss": 0.002187164887748481,
          "line_angle_loss": 0.21595024795581896,
          "loss": 0.3091492805749809,
          "norm_mae": 0.019232294652976243,
          "risk": 0.1560558554020762,
          "ssim": 0.9336507674967934,
          "warp_penalty": 0.013550509233027697
        }
      },
      "sampled_pairs": 60,
      "search": {
        "black_border_max": 0.002,
        "broad": true,
        "evaluated_candidates": 76,
        "valid_candidates": 50
      },
      "support": 96,
      "width": 1367
    },
    "2048x1356": {
      "guardrails": {
        "force_safe": true,
        "latest_zero_rate": 100.0,
        "reasons": [
          "zero_rate_ge_20pct(100.00)",
          "test_count_lt_10(4)",
          "high_risk_parent(heavy_crop)"
        ],
        "test_count": 4
      },
      "height": 1356,
      "parent_class": "heavy_crop",
      "primary": {
        "k1": -0.03,
        "k2": 0.07,
        "metrics": {
          "border_ratio": 8.229243485742381e-05,
          "edge_f1": 0.5973508048311956,
          "grad_hist_loss": 0.0011463649266290287,
          "line_angle_loss": 0.17733003615091245,
          "loss": 0.2139543007839557,
          "norm_mae": 0.017650980489705904,
          "risk": 0.08959841983563802,
          "ssim": 0.9220132229586642,
          "warp_penalty": 0.02190206991508603
        }
      },
      "safe": {
        "k1": -0.01,
        "k2": 0.03,
        "metrics": {
          "border_ratio": 8.25805063913471e-05,
          "edge_f1": 0.5861943767473957,
          "grad_hist_loss": 0.0011249019112863116,
          "line_angle_loss": 0.19145628834764164,
          "loss": 0.2208106227925097,
          "norm_mae": 0.01794278674850277,
          "risk": 0.08628311899515391,
          "ssim": 0.9212138066760688,
          "warp_penalty": 0.005008787498809397
        }
      },
      "sampled_pairs": 60,
      "search": {
        "black_border_max": 0.002,
        "broad": true,
        "evaluated_candidates": 76,
        "valid_candidates": 50
      },
      "support": 105,
      "width": 2048
    },
    "2048x1359": {
      "guardrails": {
        "force_safe": true,
        "latest_zero_rate": 100.0,
        "reasons": [
          "zero_rate_ge_20pct(100.00)",
          "test_count_lt_10(3)",
          "high_risk_parent(heavy_crop)"
        ],
        "test_count": 3
      },
      "height": 1359,
      "parent_class": "heavy_crop",
      "primary": {
        "k1": -0.04,
        "k2": 0.08,
        "metrics": {
          "border_ratio": 1.809512867647059e-05,
          "edge_f1": 0.5574314479299116,
          "grad_hist_loss": 0.0006373490868160118,
          "line_angle_loss": 0.20479997756580512,
          "loss": 0.22936427562581016,
          "norm_mae": 0.012328020038168417,
          "risk": 0.08239728489995758,
          "ssim": 0.9685971403653787,
          "warp_penalty": 0.03678613901138306
        }
      },
      "safe": {
        "k1": -0.01,
        "k2": 0.03,
        "metrics": {
          "border_ratio": 1.9052542892156865e-05,
          "edge_f1": 0.536761192024194,
          "grad_hist_loss": 0.0007011141511232703,
          "line_angle_loss": 0.2150459572672844,
          "loss": 0.23857318275061948,
          "norm_mae": 0.012682774105882333,
          "risk": 0.0762278962290533,
          "ssim": 0.9669548527592777,
          "warp_penalty": 0.005008752457797527
        }
      },
      "sampled_pairs": 60,
      "search": {
        "black_border_max": 0.002,
        "broad": true,
        "evaluated_candidates": 76,
        "valid_candidates": 50
      },
      "support": 122,
      "width": 2048
    },
    "2048x1360": {
      "guardrails": {
        "force_safe": false,
        "latest_zero_rate": 19.230769230769234,
        "reasons": [],
        "test_count": 26
      },
      "height": 1360,
      "parent_class": "moderate_crop",
      "primary": {
        "k1": -0.18,
        "k2": 0.37,
        "metrics": {
          "border_ratio": 0.00023983226102941175,
          "edge_f1": 0.5020268183763096,
          "grad_hist_loss": 0.0031435734373287355,
          "line_angle_loss": 0.2197411508609851,
          "loss": 0.26533542757712664,
          "norm_mae": 0.018082726718553533,
          "risk": 0.18832898758276456,
          "ssim": 0.9440893393940016,
          "warp_penalty": 0.1589304618537426
        }
      },
      "safe": {
        "k1": -0.05,
        "k2": 0.11,
        "metrics": {
          "border_ratio": 0.0002804266237745098,
          "edge_f1": 0.4358005640567482,
          "grad_hist_loss": 0.0032872934266428714,
          "line_angle_loss": 0.22634903751313687,
          "loss": 0.2897636211524122,
          "norm_mae": 0.021441221790376053,
          "risk": 0.1737101014774459,
          "ssim": 0.9291368409472522,
          "warp_penalty": 0.039876215159893036
        }
      },
      "sampled_pairs": 60,
      "search": {
        "black_border_max": 0.002,
        "broad": true,
        "evaluated_candidates": 75,
        "valid_candidates": 50
      },
      "support": 815,
      "width": 2048
    },
    "2048x1362": {
      "guardrails": {
        "force_safe": true,
        "latest_zero_rate": 0.0,
        "reasons": [
          "test_count_lt_10(2)"
        ],
        "test_count": 2
      },
      "height": 1362,
      "parent_class": "moderate_crop",
      "primary": {
        "k1": -0.08,
        "k2": 0.17,
        "metrics": {
          "border_ratio": 0.00023035386029411764,
          "edge_f1": 0.5772442206116832,
          "grad_hist_loss": 0.0014580469441135243,
          "line_angle_loss": 0.2031016523639361,
          "loss": 0.223897878625327,
          "norm_mae": 0.013418927021275938,
          "risk": 0.14692211889884982,
          "ssim": 0.9612028767957105,
          "warp_penalty": 0.06720480136573315
        }
      },
      "safe": {
        "k1": -0.05,
        "k2": 0.11,
        "metrics": {
          "border_ratio": 0.0002417470894607843,
          "edge_f1": 0.5728537458189423,
          "grad_hist_loss": 0.0013881171190012957,
          "line_angle_loss": 0.22691990695893766,
          "loss": 0.2299095995521165,
          "norm_mae": 0.01392294789061827,
          "risk": 0.14251495891023125,
          "ssim": 0.9587403466052232,
          "warp_penalty": 0.03987523727118969
        }
      },
      "sampled_pairs": 60,
      "search": {
        "black_border_max": 0.002,
        "broad": true,
        "evaluated_candidates": 76,
        "valid_candidates": 50
      },
      "support": 288,
      "width": 2048
    },
    "2048x1363": {
      "guardrails": {
        "force_safe": true,
        "latest_zero_rate": 45.83333333333333,
        "reasons": [
          "zero_rate_ge_20pct(45.83)"
        ],
        "test_count": 24
      },
      "height": 1363,
      "parent_class": "moderate_crop",
      "primary": {
        "k1": -0.07,
        "k2": 0.15,
        "metrics": {
          "border_ratio": 5.030776515151515e-05,
          "edge_f1": 0.5592691736251642,
          "grad_hist_loss": 0.0014032847912902214,
          "line_angle_loss": 0.20823878093312184,
          "loss": 0.23126985988025936,
          "norm_mae": 0.012985772260653427,
          "risk": 0.09735754502693023,
          "ssim": 0.9642606441739983,
          "warp_penalty": 0.058044285513460636
        }
      },
      "safe": {
        "k1": -0.05,
        "k2": 0.11,
        "metrics": {
          "border_ratio": 5.985383064516129e-05,
          "edge_f1": 0.5565563572288018,
          "grad_hist_loss": 0.0013840568231152743,
          "line_angle_loss": 0.20982877481728793,
          "loss": 0.23213865095600023,
          "norm_mae": 0.013337236498695575,
          "risk": 0.09493876065070864,
          "ssim": 0.9620724253331969,
          "warp_penalty": 0.03987470269203186
        }
      },
      "sampled_pairs": 60,
      "search": {
        "black_border_max": 0.002,
        "broad": true,
        "evaluated_candidates": 76,
        "valid_candidates": 50
      },
      "support": 876,
      "width": 2048
    },
    "2048x1364": {
      "guardrails": {
        "force_safe": false,
        "latest_zero_rate": 18.75,
        "reasons": [],
        "test_count": 16
      },
      "height": 1364,
      "parent_class": "moderate_crop",
      "primary": {
        "k1": -0.175,
        "k2": 0.36,
        "metrics": {
          "border_ratio": 0.0001577010019550342,
          "edge_f1": 0.5445120367802915,
          "grad_hist_loss": 0.008793782834752179,
          "line_angle_loss": 0.22052652053534985,
          "loss": 0.24712468306241708,
          "norm_mae": 0.013720091425515469,
          "risk": 0.1579867715707406,
          "ssim": 0.9571412609986629,
          "warp_penalty": 0.15431933850049973
        }
      },
      "safe": {
        "k1": -0.06,
        "k2": 0.19,
        "metrics": {
          "border_ratio": 0.00016486055107526882,
          "edge_f1": 0.35920337004378405,
          "grad_hist_loss": 0.009309804304737317,
          "line_angle_loss": 0.21373908855021,
          "loss": 0.3163833219884056,
          "norm_mae": 0.018007133256376182,
          "risk": 0.1497658980675668,
          "ssim": 0.9394600638946964,
          "warp_penalty": 0.02769917342811823
        }
      },
      "sampled_pairs": 60,
      "search": {
        "black_border_max": 0.002,
        "broad": true,
        "evaluated_candidates": 75,
        "valid_candidates": 50
      },
      "support": 943,
      "width": 2048
    },
    "2048x1365": {
      "guardrails": {
        "force_safe": true,
        "latest_zero_rate": 26.36363636363636,
        "reasons": [
          "zero_rate_ge_20pct(26.36)"
        ],
        "test_count": 110
      },
      "height": 1365,
      "parent_class": "near_standard_short",
      "primary": {
        "k1": -0.21,
        "k2": 0.43,
        "metrics": {
          "border_ratio": 0.00020877245234604105,
          "edge_f1": 0.576227765572958,
          "grad_hist_loss": 0.0009045610175860568,
          "line_angle_loss": 0.21765220314264297,
          "loss": 0.23269774812531452,
          "norm_mae": 0.014703133207520626,
          "risk": 0.1769308919864332,
          "ssim": 0.966120311455297,
          "warp_penalty": 0.18650877475738525
        }
      },
      "safe": {
        "k1": -0.14,
        "k2": 0.31,
        "metrics": {
          "border_ratio": 0.00020734054252199413,
          "edge_f1": 0.49471908182467833,
          "grad_hist_loss": 0.0009776236868461444,
          "line_angle_loss": 0.23081306008001168,
          "loss": 0.2652958554142258,
          "norm_mae": 0.0163657032352647,
          "risk": 0.16597087941522848,
          "ssim": 0.9607754972097643,
          "warp_penalty": 0.11053364165127277
        }
      },
      "sampled_pairs": 60,
      "search": {
        "black_border_max": 0.002,
        "broad": true,
        "evaluated_candidates": 75,
        "valid_candidates": 49
      },
      "support": 3815,
      "width": 2048
    },
    "2048x1366": {
      "guardrails": {
        "force_safe": false,
        "latest_zero_rate": 14.285714285714285,
        "reasons": [],
        "test_count": 231
      },
      "height": 1366,
      "parent_class": "near_standard_short",
      "primary": {
        "k1": -0.2,
        "k2": 0.42,
        "metrics": {
          "border_ratio": 0.0002271031310916179,
          "edge_f1": 0.563517367860002,
          "grad_hist_loss": 0.0018437553505817475,
          "line_angle_loss": 0.22033541637162368,
          "loss": 0.2404029948092944,
          "norm_mae": 0.01681321228251738,
          "risk": 0.1792398162611902,
          "ssim": 0.9492581974935018,
          "warp_penalty": 0.17104686796665192
        }
      },
      "safe": {
        "k1": -0.14,
        "k2": 0.31,
        "metrics": {
          "border_ratio": 0.0002308152107699805,
          "edge_f1": 0.4973847957169111,
          "grad_hist_loss": 0.0019386366604170683,
          "line_angle_loss": 0.2156228025754293,
          "loss": 0.263934430034531,
          "norm_mae": 0.018767248812843768,
          "risk": 0.1720256486188731,
          "ssim": 0.9424167741372924,
          "warp_penalty": 0.11053061671555042
        }
      },
      "sampled_pairs": 60,
      "search": {
        "black_border_max": 0.002,
        "broad": true,
        "evaluated_candidates": 75,
        "valid_candidates": 49
      },
      "support": 4314,
      "width": 2048
    },
    "2048x1367": {
      "guardrails": {
        "force_safe": false,
        "latest_zero_rate": 8.35117773019272,
        "reasons": [],
        "test_count": 467
      },
      "height": 1367,
      "parent_class": "standard",
      "primary": {
        "k1": -0.205,
        "k2": 0.42,
        "metrics": {
          "border_ratio": 0.00025984557748538013,
          "edge_f1": 0.5411586953220241,
          "grad_hist_loss": 0.0014974791427593097,
          "line_angle_loss": 0.2066134385764599,
          "loss": 0.24412737669417167,
          "norm_mae": 0.014161847042881585,
          "risk": 0.19485485553907128,
          "ssim": 0.9662461862210882,
          "warp_penalty": 0.18190375342965126
        }
      },
      "safe": {
        "k1": -0.14,
        "k2": 0.29,
        "metrics": {
          "border_ratio": 0.00025299250730994157,
          "edge_f1": 0.48080007506604666,
          "grad_hist_loss": 0.001635464059860564,
          "line_angle_loss": 0.22324258784453074,
          "loss": 0.27004113512129163,
          "norm_mae": 0.01584590253487132,
          "risk": 0.18410473664630872,
          "ssim": 0.9596501171217908,
          "warp_penalty": 0.12217269465327263
        }
      },
      "sampled_pairs": 60,
      "search": {
        "black_border_max": 0.002,
        "broad": true,
        "evaluated_candidates": 75,
        "valid_candidates": 49
      },
      "support": 9360,
      "width": 2048
    },
    "2048x1368": {
      "guardrails": {
        "force_safe": false,
        "latest_zero_rate": 6.25,
        "reasons": [],
        "test_count": 16
      },
      "height": 1368,
      "parent_class": "near_standard_tall",
      "primary": {
        "k1": -0.18,
        "k2": 0.39,
        "metrics": {
          "border_ratio": 0.00011783473440545809,
          "edge_f1": 0.6384868519223795,
          "grad_hist_loss": 0.001919519255409737,
          "line_angle_loss": 0.2008520346134901,
          "loss": 0.20144549717493102,
          "norm_mae": 0.011871512684167602,
          "risk": 0.13069722706598394,
          "ssim": 0.9708705505782697,
          "warp_penalty": 0.14688567630946636
        }
      },
      "safe": {
        "k1": -0.14,
        "k2": 0.31,
        "metrics": {
          "border_ratio": 0.00012192754020467835,
          "edge_f1": 0.6289700340844175,
          "grad_hist_loss": 0.0019293255218975644,
          "line_angle_loss": 0.21890483101209005,
          "loss": 0.20779328259065977,
          "norm_mae": 0.012382163845635707,
          "risk": 0.12234186026575936,
          "ssim": 0.9684691245876373,
          "warp_penalty": 0.11052430607378483
        }
      },
      "sampled_pairs": 60,
      "search": {
        "black_border_max": 0.002,
        "broad": true,
        "evaluated_candidates": 75,
        "valid_candidates": 49
      },
      "support": 330,
      "width": 2048
    },
    "2048x1369": {
      "guardrails": {
        "force_safe": false,
        "latest_zero_rate": 17.105263157894736,
        "reasons": [],
        "test_count": 76
      },
      "height": 1369,
      "parent_class": "near_standard_tall",
      "primary": {
        "k1": -0.2,
        "k2": 0.41,
        "metrics": {
          "border_ratio": 0.00038462856359649123,
          "edge_f1": 0.5505189801411438,
          "grad_hist_loss": 0.0009969550843157223,
          "line_angle_loss": 0.20443016532808542,
          "loss": 0.2390986029436079,
          "norm_mae": 0.014109479734321046,
          "risk": 0.2263843381433825,
          "ssim": 0.9694550375772852,
          "warp_penalty": 0.17729776725172997
        }
      },
      "safe": {
        "k1": -0.14,
        "k2": 0.29,
        "metrics": {
          "border_ratio": 0.00037948876096491227,
          "edge_f1": 0.5014520396850094,
          "grad_hist_loss": 0.0010908072300758501,
          "line_angle_loss": 0.21069580589731535,
          "loss": 0.25812426038250164,
          "norm_mae": 0.015431923936395083,
          "risk": 0.2157950897655962,
          "ssim": 0.9648323796531344,
          "warp_penalty": 0.12217828817665577
        }
      },
      "sampled_pairs": 60,
      "search": {
        "black_border_max": 0.002,
        "broad": true,
        "evaluated_candidates": 75,
        "valid_candidates": 49
      },
      "support": 1650,
      "width": 2048
    }
  },
  "generated_at": "2026-02-22T10:12:21.122513Z",
  "global_fallback": {
    "k1": -0.17,
    "k2": 0.35
  },
  "metadata": {
    "git_commit": "7eb6b3125b1085bddb21b5d4a24e2bf497a3ce63",
    "score_csv": "/Users/aaron/Desktop/AutoHDR/submission.csv",
    "test_dir": "/Volumes/Love SSD/test-originals"
  },
  "method": "CalibGuard-Dim",
  "min_dim_support": 50,
  "parent_classes": {
    "heavy_crop": {
      "primary": {
        "k1": -0.01,
        "k2": 0.01
      },
      "safe": {
        "k1": -0.002,
        "k2": 0.005
      }
    },
    "moderate_crop": {
      "primary": {
        "k1": -0.08,
        "k2": 0.15
      },
      "safe": {
        "k1": -0.055,
        "k2": 0.1
      }
    },
    "near_standard_short": {
      "primary": {
        "k1": -0.17,
        "k2": 0.35
      },
      "safe": {
        "k1": -0.16,
        "k2": 0.33
      }
    },
    "near_standard_tall": {
      "primary": {
        "k1": -0.17,
        "k2": 0.35
      },
      "safe": {
        "k1": -0.165,
        "k2": 0.34
      }
    },
    "portrait_cropped": {
      "primary": {
        "k1": -0.005,
        "k2": 0.005
      },
      "safe": {
        "k1": 0.0,
        "k2": 0.0
      }
    },
    "portrait_standard": {
      "primary": {
        "k1": -0.02,
        "k2": 0.02
      },
      "safe": {
        "k1": -0.008,
        "k2": 0.015
      }
    },
    "standard": {
      "primary": {
        "k1": -0.17,
        "k2": 0.35
      },
      "safe": {
        "k1": -0.165,
        "k2": 0.34
      }
    }
  },
  "sample_per_dim": 60,
  "scale": 0.25,
  "train_dir": "/Volumes/Love SSD/lens-correction-train-cleaned",
  "version": "calibguard_dim_table.v1"
}